"use strict";(self["webpackChunkMyGuitar"]=self["webpackChunkMyGuitar"]||[]).push([[101],{5101:function(e,t,r){r.r(t),r.d(t,{default:function(){return st}});var n=r(3396),a=r(7139),l=r(9242);const i=e=>((0,n.dD)("data-v-252470d8"),e=e(),(0,n.Cn)(),e),o={class:"container-fluid"},u=(0,n.uE)('<div class="row bg-primary" style="height:10vh;" data-v-252470d8></div><div class="row pt-5 pb-2 mb-3 justify-content-center bg-primary" data-v-252470d8><div class="col-12 col-md-12 col-lg-4 col-sm-12 pb-3" data-v-252470d8><h1 class="text-white" data-v-252470d8>填寫聯絡資料</h1></div></div><div class="row justify-content-around mb-3" data-v-252470d8><div class="col-lg-4 col-md-6 col-sm-12 d-flex px-3" data-v-252470d8><div class="stepHint border border-gray py-3 px-3 mx-2 text-white opacity-50" style="width:10rem;height:3.5rem;background-color:#627364;" data-v-252470d8><p class="fw-bold" data-v-252470d8>確認商品</p></div><div class="stepHint border border-gray py-3 px-3 mx-2 text-white" style="width:10rem;height:3.5rem;background-color:#627364;" data-v-252470d8><p class="fw-bold" data-v-252470d8>建立訂單</p></div><div class="stepHint border border-gray py-3 px-3 mx-2 text-white opacity-50" style="width:10rem;height:3.5rem;background-color:#627364;" data-v-252470d8><p class="fw-bold" data-v-252470d8>訂購完成</p></div></div></div>',3),s={class:"row py-4 px-4 justify-content-center"},d={class:"mb-5"},c=i((()=>(0,n._)("label",{for:"email",class:"form-label text-info mb-2"},"收件人信箱",-1))),v={class:"mb-5"},f=i((()=>(0,n._)("label",{for:"name",class:"form-label text-info mb-2"},"收件人姓名",-1))),m={class:"mb-5"},p=i((()=>(0,n._)("label",{for:"tel",class:"form-label text-info mb-2"},"收件人電話",-1))),h={class:"mb-5"},y=i((()=>(0,n._)("label",{for:"address",class:"form-label text-info mb-2"},"收件人地址",-1))),b={class:"mb-5"},g=i((()=>(0,n._)("label",{for:"message",class:"form-label text-info mb-2"},"留言",-1))),S={class:"text-end"},V=["disabled"];function O(e,t,r,i,O,F){const A=(0,n.up)("Field"),j=(0,n.up)("ErrorMessage"),w=(0,n.up)("Form");return(0,n.wg)(),(0,n.iD)("div",o,[u,(0,n._)("div",s,[(0,n.Wm)(w,{ref:"form",class:"col-md-6 text-start",onSubmit:F.onSubmit},{default:(0,n.w5)((({errors:e})=>[(0,n._)("div",d,[c,(0,n.Wm)(A,{id:"email",name:"email",type:"email",class:(0,a.C_)(["form-control text-info ps-2",{"is-invalid":e["email"]}]),rules:F.validateEmail,placeholder:"請輸入 Email",modelValue:O.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=e=>O.form.user.email=e)},null,8,["rules","class","modelValue"]),(0,n.Wm)(j,{name:"email",class:"invalid-feedback"})]),(0,n._)("div",v,[f,(0,n.Wm)(A,{id:"name",name:"姓名",type:"text",class:(0,a.C_)(["form-control text-info ps-2",{"is-invalid":e["姓名"]}]),placeholder:"請輸入姓名",rules:F.isRequired,modelValue:O.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=e=>O.form.user.name=e)},null,8,["class","rules","modelValue"]),(0,n.Wm)(j,{name:"姓名",class:"invalid-feedback"})]),(0,n._)("div",m,[p,(0,n.Wm)(A,{id:"tel",name:"電話",type:"text",class:(0,a.C_)(["form-control text-info ps-2",{"is-invalid":e["電話"]}]),placeholder:"請輸入電話",rules:F.validatePhone,modelValue:O.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=e=>O.form.user.tel=e)},null,8,["class","rules","modelValue"]),(0,n.Wm)(j,{name:"電話",class:"invalid-feedback"})]),(0,n._)("div",h,[y,(0,n.Wm)(A,{id:"address",name:"地址",type:"text",class:(0,a.C_)(["form-control text-info ps-2",{"is-invalid":e["地址"]}]),placeholder:"請輸入地址",rules:F.isRequired,modelValue:O.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=e=>O.form.user.address=e)},null,8,["class","rules","modelValue"]),(0,n.Wm)(j,{name:"地址",class:"invalid-feedback"})]),(0,n._)("div",b,[g,(0,n.wy)((0,n._)("textarea",{id:"message",class:"form-control text-info ps-2",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=e=>O.form.user.message=e),style:{height:"6rem"}},null,512),[[l.nr,O.form.user.message]])]),(0,n._)("div",S,[(0,n._)("button",{type:"submit",class:"btn btn-lg px-3 py-2",disabled:Object.keys(e).length>0},"送出訂單",8,V)])])),_:1},8,["onSubmit"])])])}r(1703),r(2801);var F=r(4870);
/**
  * vee-validate v4.5.10
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */
function A(e){return"function"===typeof e}function j(e){return null===e||void 0===e}const w=e=>null!==e&&!!e&&"object"===typeof e&&!Array.isArray(e);function U(e){return Number(e)>=0}function E(e){const t=parseFloat(e);return isNaN(t)?e:t}const k={};function x(e){return k[e]}const B=Symbol("vee-validate-form"),_=Symbol("vee-validate-field-instance"),M=Symbol("Default empty value");function I(e){return A(e)&&!!e.__locatorRef}function T(e){return["input","textarea","select"].includes(e)}function P(e,t){return T(e)&&"file"===t.type}function C(e){return!!e&&A(e.validate)}function R(e){return"checkbox"===e||"radio"===e}function $(e){return w(e)||Array.isArray(e)}function q(e){return Array.isArray(e)?0===e.length:w(e)&&0===Object.keys(e).length}function N(e){return/^\[.+\]$/i.test(e)}function D(e){return Y(e)&&e.multiple}function Y(e){return"SELECT"===e.tagName}function H(e,t){const r=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return"select"===e&&"multiple"in t&&r}function L(e,t){return H(e,t)||P(e,t)}function Z(e){return W(e)&&e.target&&"submit"in e.target}function W(e){return!!e&&(!!("undefined"!==typeof Event&&A(Event)&&e instanceof Event)||!(!e||!e.srcElement))}function J(e,t){return t in e&&e[t]!==M}function z(e){return N(e)?e.replace(/\[|\]/gi,""):e}function G(e,t,r){if(!e)return r;if(N(t))return e[z(t)];const n=(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>$(e)&&t in e?e[t]:r),e);return n}function K(e,t,r){if(N(t))return void(e[z(t)]=r);const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let l=0;l<n.length;l++){if(l===n.length-1)return void(a[n[l]]=r);n[l]in a&&!j(a[n[l]])||(a[n[l]]=U(n[l+1])?[]:{}),a=a[n[l]]}}function X(e,t){Array.isArray(e)&&U(t)?e.splice(Number(t),1):w(e)&&delete e[t]}function Q(e,t){if(N(t))return void delete e[z(t)];const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let n=e;for(let l=0;l<r.length;l++){if(l===r.length-1){X(n,r[l]);break}if(!(r[l]in n)||j(n[r[l]]))break;n=n[r[l]]}const a=r.map(((t,n)=>G(e,r.slice(0,n).join("."))));for(let l=a.length-1;l>=0;l--)q(a[l])&&(0!==l?X(a[l-1],r[l-1]):X(e,r[0]))}function ee(e){return Object.keys(e)}function te(e,t){const r=(0,n.FN)();return(null===r||void 0===r?void 0:r.provides[e])||(0,n.f3)(e,t)}function re(e){(0,n.ZK)(`[vee-validate]: ${e}`)}function ne(e,t,r){if(Array.isArray(e)){const r=[...e],n=r.indexOf(t);return n>=0?r.splice(n,1):r.push(t),r}return e===t?r:t}function ae(e,t){let r,n;return function(...a){const l=this;return r||(r=!0,setTimeout((()=>r=!1),t),n=e.apply(l,a)),n}}function le(e,t=0){let r=null,n=[];return function(...a){return r&&window.clearTimeout(r),r=window.setTimeout((()=>{const t=e(...a);n.forEach((e=>e(t))),n=[]}),t),new Promise((e=>n.push(e)))}}const ie=(e,t,r)=>t.slots.default?"string"!==typeof e&&e?{default:()=>{var e,n;return null===(n=(e=t.slots).default)||void 0===n?void 0:n.call(e,r())}}:t.slots.default(r()):t.slots.default;function oe(e){if(ue(e))return e._value}function ue(e){return"_value"in e}function se(e){if(!W(e))return e;const t=e.target;if(R(t.type)&&ue(t))return oe(t);if("file"===t.type&&t.files)return Array.from(t.files);if(D(t))return Array.from(t.options).filter((e=>e.selected&&!e.disabled)).map(oe);if(Y(t)){const e=Array.from(t.options).find((e=>e.selected));return e?oe(e):t.value}return t.value}function de(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?w(e)&&e._$$isNormalized?e:w(e)?Object.keys(e).reduce(((t,r)=>{const n=ce(e[r]);return!1!==e[r]&&(t[r]=ve(n)),t}),t):"string"!==typeof e?t:e.split("|").reduce(((e,t)=>{const r=fe(t);return r.name?(e[r.name]=ve(r.params),e):e}),t):t}function ce(e){return!0===e?[]:Array.isArray(e)||w(e)?e:[e]}function ve(e){const t=e=>"string"===typeof e&&"@"===e[0]?me(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce(((r,n)=>(r[n]=t(e[n]),r)),{})}const fe=e=>{let t=[];const r=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:r,params:t}};function me(e){const t=t=>{const r=G(t,e)||t[e];return r};return t.__locatorRef=e,t}function pe(e){return Array.isArray(e)?e.filter(I):ee(e).filter((t=>I(e[t]))).map((t=>e[t]))}const he={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ye=Object.assign({},he);const be=()=>ye;async function ge(e,t,r={}){const n=null===r||void 0===r?void 0:r.bails,a={name:(null===r||void 0===r?void 0:r.name)||"{field}",rules:t,bails:null===n||void 0===n||n,formData:(null===r||void 0===r?void 0:r.values)||{}},l=await Se(a,e),i=l.errors;return{errors:i,valid:!i.length}}async function Se(e,t){if(C(e.rules))return Ve(t,e.rules,{bails:e.bails});if(A(e.rules)){const r={field:e.name,form:e.formData,value:t},n=await e.rules(t,r),a="string"!==typeof n&&n,l="string"===typeof n?n:Fe(r);return{errors:a?[]:[l]}}const r=Object.assign(Object.assign({},e),{rules:de(e.rules)}),n=[],a=Object.keys(r.rules),l=a.length;for(let i=0;i<l;i++){const l=a[i],o=await Oe(r,t,{name:l,params:r.rules[l]});if(o.error&&(n.push(o.error),e.bails))return{errors:n}}return{errors:n}}async function Ve(e,t,r){var n;const a=await t.validate(e,{abortEarly:null===(n=r.bails)||void 0===n||n}).then((()=>[])).catch((e=>{if("ValidationError"===e.name)return e.errors;throw e}));return{errors:a}}async function Oe(e,t,r){const n=x(r.name);if(!n)throw new Error(`No such validator '${r.name}' exists.`);const a=Ae(r.params,e.formData),l={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},r),{params:a})},i=await n(t,a,l);return"string"===typeof i?{error:i}:{error:i?void 0:Fe(l)}}function Fe(e){const t=be().generateMessage;return t?t(e):"Field is invalid"}function Ae(e,t){const r=e=>I(e)?e(t):e;return Array.isArray(e)?e.map(r):Object.keys(e).reduce(((t,n)=>(t[n]=r(e[n]),t)),{})}async function je(e,t){const r=await e.validate(t,{abortEarly:!1}).then((()=>[])).catch((e=>{if("ValidationError"!==e.name)throw e;return e.inner||[]})),n={},a={};for(const l of r){const e=l.errors;n[l.path]={valid:!e.length,errors:e},e.length&&(a[l.path]=e[0])}return{valid:!r.length,results:n,errors:a}}async function we(e,t,r){const n=ee(e),a=n.map((async n=>{var a,l,i;const o=await ge(G(t,n),e[n],{name:(null===(a=null===r||void 0===r?void 0:r.names)||void 0===a?void 0:a[n])||n,values:t,bails:null===(i=null===(l=null===r||void 0===r?void 0:r.bailsMap)||void 0===l?void 0:l[n])||void 0===i||i});return Object.assign(Object.assign({},o),{path:n})}));let l=!0;const i=await Promise.all(a),o={},u={};for(const s of i)o[s.path]={valid:s.valid,errors:s.errors},s.valid||(l=!1,u[s.path]=s.errors[0]);return{valid:l,results:o,errors:u}}function Ue(e,t,r){"object"===typeof r.value&&(r.value=Ee(r.value)),r.enumerable&&!r.get&&!r.set&&r.configurable&&r.writable&&"__proto__"!==t?e[t]=r.value:Object.defineProperty(e,t,r)}function Ee(e){if("object"!==typeof e)return e;var t,r,n,a=0,l=Object.prototype.toString.call(e);if("[object Object]"===l?n=Object.create(e.__proto__||null):"[object Array]"===l?n=Array(e.length):"[object Set]"===l?(n=new Set,e.forEach((function(e){n.add(Ee(e))}))):"[object Map]"===l?(n=new Map,e.forEach((function(e,t){n.set(Ee(t),Ee(e))}))):"[object Date]"===l?n=new Date(+e):"[object RegExp]"===l?n=new RegExp(e.source,e.flags):"[object DataView]"===l?n=new e.constructor(Ee(e.buffer)):"[object ArrayBuffer]"===l?n=e.slice(0):"Array]"===l.slice(-6)&&(n=new e.constructor(e)),n){for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)Ue(n,r[a],Object.getOwnPropertyDescriptor(e,r[a]));for(a=0,r=Object.getOwnPropertyNames(e);a<r.length;a++)Object.hasOwnProperty.call(n,t=r[a])&&n[t]===e[t]||Ue(n,t,Object.getOwnPropertyDescriptor(e,t))}return n||e}var ke=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,a,l;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;0!==a--;)if(!e(t[a],r[a]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(a of t.entries())if(!r.has(a[0]))return!1;for(a of t.entries())if(!e(a[1],r.get(a[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(a of t.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if(n=t.length,n!=r.length)return!1;for(a=n;0!==a--;)if(t[a]!==r[a])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(l=Object.keys(t),n=l.length,n!==Object.keys(r).length)return!1;for(a=n;0!==a--;)if(!Object.prototype.hasOwnProperty.call(r,l[a]))return!1;for(a=n;0!==a--;){var i=l[a];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r};let xe=0;function Be(e,t){const{value:r,initialValue:n,setInitialValue:a}=_e(e,t.modelValue,!t.standalone),{errorMessage:l,errors:i,setErrors:o}=Ie(e,!t.standalone),u=Me(r,n,i),s=xe>=Number.MAX_SAFE_INTEGER?0:++xe;function d(e){var t;"value"in e&&(r.value=e.value),"errors"in e&&o(e.errors),"touched"in e&&(u.touched=null!==(t=e.touched)&&void 0!==t?t:u.touched),"initialValue"in e&&a(e.initialValue)}return{id:s,path:e,value:r,initialValue:n,meta:u,errors:i,errorMessage:l,setState:d}}function _e(e,t,r){const a=r?te(B,void 0):void 0,l=(0,F.iH)((0,F.SU)(t));function i(){return a?G(a.meta.value.initialValues,(0,F.SU)(e),(0,F.SU)(l)):(0,F.SU)(l)}function o(t){a?a.setFieldInitialValue((0,F.SU)(e),t):l.value=t}const u=(0,n.Fl)(i);if(!a){const e=(0,F.iH)(i());return{value:e,initialValue:u,setInitialValue:o}}const s=t?(0,F.SU)(t):G(a.values,(0,F.SU)(e),(0,F.SU)(u));a.stageInitialValue((0,F.SU)(e),s);const d=(0,n.Fl)({get(){return G(a.values,(0,F.SU)(e))},set(t){a.setFieldValue((0,F.SU)(e),t)}});return{value:d,initialValue:u,setInitialValue:o}}function Me(e,t,r){const a=(0,F.qj)({touched:!1,pending:!1,valid:!0,validated:!!(0,F.SU)(r).length,initialValue:(0,n.Fl)((()=>(0,F.SU)(t))),dirty:(0,n.Fl)((()=>!ke((0,F.SU)(e),(0,F.SU)(t))))});return(0,n.YP)(r,(e=>{a.valid=!e.length}),{immediate:!0,flush:"sync"}),a}function Ie(e,t){const r=t?te(B,void 0):void 0;function a(e){return e?Array.isArray(e)?e:[e]:[]}if(!r){const e=(0,F.iH)([]);return{errors:e,errorMessage:(0,n.Fl)((()=>e.value[0])),setErrors:t=>{e.value=a(t)}}}const l=(0,n.Fl)((()=>r.errorBag.value[(0,F.SU)(e)]||[]));return{errors:l,errorMessage:(0,n.Fl)((()=>l.value[0])),setErrors:t=>{r.setFieldErrorBag((0,F.SU)(e),a(t))}}}let Te;ae((()=>{setTimeout((async()=>{await(0,n.Y3)(),null===Te||void 0===Te||Te.sendInspectorState(Pe),null===Te||void 0===Te||Te.sendInspectorTree(Pe)}),100)}),100);const Pe="vee-validate-inspector";function Ce(e,t,r){return R(null===r||void 0===r?void 0:r.type)?Ne(e,t,r):Re(e,t,r)}function Re(e,t,r){const{initialValue:a,validateOnMount:l,bails:i,type:o,checkedValue:u,label:s,validateOnValueUpdate:d,uncheckedValue:c,standalone:v}=$e((0,F.SU)(e),r),f=v?void 0:te(B),{id:m,value:p,initialValue:h,meta:y,setState:b,errors:g,errorMessage:S}=Be(e,{modelValue:a,standalone:v}),V=()=>{y.touched=!0},O=(0,n.Fl)((()=>{let r=(0,F.SU)(t);const n=(0,F.SU)(null===f||void 0===f?void 0:f.schema);return n&&!C(n)&&(r=qe(n,(0,F.SU)(e))||r),C(r)||A(r)?r:de(r)}));async function j(t){var r,n;return(null===f||void 0===f?void 0:f.validateSchema)?null!==(r=(await f.validateSchema(t)).results[(0,F.SU)(e)])&&void 0!==r?r:{valid:!0,errors:[]}:ge(p.value,O.value,{name:(0,F.SU)(s)||(0,F.SU)(e),values:null!==(n=null===f||void 0===f?void 0:f.values)&&void 0!==n?n:{},bails:i})}async function w(){y.pending=!0,y.validated=!0;const e=await j("validated-only");return b({errors:e.errors}),y.pending=!1,e}async function U(){const e=await j("silent");return y.valid=e.valid,e}function E(e){return(null===e||void 0===e?void 0:e.mode)&&"force"!==(null===e||void 0===e?void 0:e.mode)?"validated-only"===(null===e||void 0===e?void 0:e.mode)?w():U():w()}const k=(e,t=!0)=>{const r=se(e);p.value=r,!d&&t&&w()};function x(e){y.touched=e}let M;function I(){M=(0,n.YP)(p,d?w:U,{deep:!0})}function T(e){var t;null===M||void 0===M||M();const r=e&&"value"in e?e.value:h.value;b({value:Ee(r),initialValue:Ee(r),touched:null!==(t=null===e||void 0===e?void 0:e.touched)&&void 0!==t&&t,errors:(null===e||void 0===e?void 0:e.errors)||[]}),y.pending=!1,y.validated=!1,U(),(0,n.Y3)((()=>{I()}))}function P(e){p.value=e}function R(e){b({errors:Array.isArray(e)?e:[e]})}(0,n.bv)((()=>{if(l)return w();f&&f.validateSchema||U()})),I();const $={id:m,name:e,label:s,value:p,meta:y,errors:g,errorMessage:S,type:o,checkedValue:u,uncheckedValue:c,bails:i,resetField:T,handleReset:()=>T(),validate:E,handleChange:k,handleBlur:V,setState:b,setTouched:x,setErrors:R,setValue:P};if((0,n.JJ)(_,$),(0,F.dq)(t)&&"function"!==typeof(0,F.SU)(t)&&(0,n.YP)(t,((e,t)=>{ke(e,t)||(y.validated?w():U())}),{deep:!0}),!f)return $;f.register($),(0,n.Jd)((()=>{f.unregister($)}));const q=(0,n.Fl)((()=>{const e=O.value;return!e||A(e)||C(e)?{}:Object.keys(e).reduce(((t,r)=>{const n=pe(e[r]).map((e=>e.__locatorRef)).reduce(((e,t)=>{const r=G(f.values,t)||f.values[t];return void 0!==r&&(e[t]=r),e}),{});return Object.assign(t,n),t}),{})}));return(0,n.YP)(q,((e,t)=>{if(!Object.keys(e).length)return;const r=!ke(e,t);r&&(y.validated?w():U())})),$}function $e(e,t){const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0,standalone:!1});if(!t)return r();const n="valueProp"in t?t.valueProp:t.checkedValue;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{checkedValue:n})}function qe(e,t){if(e)return e[t]}function Ne(e,t,r){const a=(null===r||void 0===r?void 0:r.standalone)?void 0:te(B),l=null===r||void 0===r?void 0:r.checkedValue,i=null===r||void 0===r?void 0:r.uncheckedValue;function o(e){const t=e.handleChange,r=(0,n.Fl)((()=>{const t=(0,F.SU)(e.value),r=(0,F.SU)(l);return Array.isArray(t)?t.includes(r):r===t}));function o(n,o=!0){var u,s;if(r.value===(null===(s=null===(u=n)||void 0===u?void 0:u.target)||void 0===s?void 0:s.checked))return;let d=se(n);a||(d=ne((0,F.SU)(e.value),(0,F.SU)(l),(0,F.SU)(i))),t(d,o)}return(0,n.Jd)((()=>{r.value&&o((0,F.SU)(l),!1)})),Object.assign(Object.assign({},e),{checked:r,checkedValue:l,uncheckedValue:i,handleChange:o})}return o(Re(e,t,r))}const De=(0,n.aZ)({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>be().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:M},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1}},setup(e,t){const r=(0,F.Vh)(e,"rules"),a=(0,F.Vh)(e,"name"),l=(0,F.Vh)(e,"label"),i=(0,F.Vh)(e,"uncheckedValue"),o=J(e,"onUpdate:modelValue"),{errors:u,value:s,errorMessage:d,validate:c,handleChange:v,handleBlur:f,setTouched:m,resetField:p,handleReset:h,meta:y,checked:b,setErrors:g}=Ce(a,r,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Ze(e,t),checkedValue:t.attrs.value,uncheckedValue:i,label:l,validateOnValueUpdate:!1}),S=o?function(e,r=!0){v(e,r),t.emit("update:modelValue",s.value)}:v,V=e=>{R(t.attrs.type)||(s.value=se(e))},O=o?function(e){V(e),t.emit("update:modelValue",s.value)}:V,A=(0,n.Fl)((()=>{const{validateOnInput:r,validateOnChange:n,validateOnBlur:a,validateOnModelUpdate:l}=He(e),i=[f,t.attrs.onBlur,a?c:void 0].filter(Boolean),o=[e=>S(e,r),t.attrs.onInput].filter(Boolean),u=[e=>S(e,n),t.attrs.onChange].filter(Boolean),d={name:e.name,onBlur:i,onInput:o,onChange:u,"onUpdate:modelValue":e=>S(e,l)};R(t.attrs.type)&&b?d.checked=b.value:d.value=s.value;const v=Ye(e,t);return L(v,t.attrs)&&delete d.value,d})),j=(0,F.Vh)(e,"modelValue");function w(){return{field:A.value,value:s.value,meta:y,errors:u.value,errorMessage:d.value,validate:c,resetField:p,handleChange:S,handleInput:O,handleReset:h,handleBlur:f,setTouched:m,setErrors:g}}return(0,n.YP)(j,(t=>{t===M&&void 0===s.value||t!==Le(s.value,e.modelModifiers)&&(s.value=t===M?void 0:t,c())})),t.expose({setErrors:g,setTouched:m,reset:p,validate:c,handleChange:v}),()=>{const r=(0,n.LL)(Ye(e,t)),a=ie(r,t,w);return r?(0,n.h)(r,Object.assign(Object.assign({},t.attrs),A.value),a):a}}});function Ye(e,t){let r=e.as||"";return e.as||t.slots.default||(r="input"),r}function He(e){var t,r,n,a;const{validateOnInput:l,validateOnChange:i,validateOnBlur:o,validateOnModelUpdate:u}=be();return{validateOnInput:null!==(t=e.validateOnInput)&&void 0!==t?t:l,validateOnChange:null!==(r=e.validateOnChange)&&void 0!==r?r:i,validateOnBlur:null!==(n=e.validateOnBlur)&&void 0!==n?n:o,validateOnModelUpdate:null!==(a=e.validateOnModelUpdate)&&void 0!==a?a:u}}function Le(e,t){return t.number?E(e):e}function Ze(e,t){return R(t.attrs.type)?J(e,"modelValue")?e.modelValue:void 0:J(e,"modelValue")?e.modelValue:t.attrs.value}const We=De;let Je=0;function ze(e){const t=Je++;let r=!1;const a=(0,F.iH)({}),l=(0,F.iH)(!1),i=(0,F.iH)(0),o={},u=(0,F.qj)(Ee((0,F.SU)(null===e||void 0===e?void 0:e.initialValues)||{})),{errorBag:s,setErrorBag:d,setFieldErrorBag:c}=Xe(null===e||void 0===e?void 0:e.initialErrors),v=(0,n.Fl)((()=>ee(s.value).reduce(((e,t)=>{const r=s.value[t];return r&&r.length&&(e[t]=r[0]),e}),{})));function f(e){const t=a.value[e];return Array.isArray(t)?t[0]:t}function m(e){return!!a.value[e]}const p=(0,n.Fl)((()=>ee(a.value).reduce(((e,t)=>{const r=f(t);return r&&(e[t]=(0,F.SU)(r.label||r.name)||""),e}),{}))),h=(0,n.Fl)((()=>ee(a.value).reduce(((e,t)=>{var r;const n=f(t);return n&&(e[t]=null===(r=n.bails)||void 0===r||r),e}),{}))),y=Object.assign({},(null===e||void 0===e?void 0:e.initialErrors)||{}),{initialValues:b,originalInitialValues:g,setInitialValues:S}=Ke(a,u,null===e||void 0===e?void 0:e.initialValues),V=Ge(a,u,b,v),O=null===e||void 0===e?void 0:e.validationSchema,A={formId:t,fieldsByPath:a,values:u,errorBag:s,errors:v,schema:O,submitCount:i,meta:V,isSubmitting:l,fieldArraysLookup:o,validateSchema:(0,F.SU)(O)?X:void 0,validate:N,register:$,unregister:q,setFieldErrorBag:c,validateField:D,setFieldValue:x,setValues:_,setErrors:k,setFieldError:E,setFieldTouched:M,setTouched:I,resetForm:T,handleSubmit:Y,stageInitialValue:W,unsetInitialValue:L,setFieldInitialValue:H};function j(e){return Array.isArray(e)}function w(e,t){return Array.isArray(e)?e.forEach(t):t(e)}function U(e){Object.values(a.value).forEach((t=>{t&&w(t,e)}))}function E(e,t){c(e,t)}function k(e){d(e)}function x(e,t,{force:n}={force:!1}){var l;const i=a.value[e],o=Ee(t);if(!i)return void K(u,e,o);if(j(i)&&"checkbox"===(null===(l=i[0])||void 0===l?void 0:l.type)&&!Array.isArray(t)){const r=Ee(ne(G(u,e)||[],t,void 0));return void K(u,e,r)}let s=t;j(i)||"checkbox"!==i.type||n||r||(s=Ee(ne(G(u,e),t,(0,F.SU)(i.uncheckedValue)))),K(u,e,s)}function _(e){ee(u).forEach((e=>{delete u[e]})),ee(e).forEach((t=>{x(t,e[t])})),Object.values(o).forEach((e=>e&&e.reset()))}function M(e,t){const r=a.value[e];r&&w(r,(e=>e.setTouched(t)))}function I(e){ee(e).forEach((t=>{M(t,!!e[t])}))}function T(e){r=!0,(null===e||void 0===e?void 0:e.values)?(S(e.values),_(null===e||void 0===e?void 0:e.values)):(S(g.value),_(g.value)),U((e=>e.resetField())),(null===e||void 0===e?void 0:e.touched)&&I(e.touched),k((null===e||void 0===e?void 0:e.errors)||{}),i.value=(null===e||void 0===e?void 0:e.submitCount)||0,(0,n.Y3)((()=>{r=!1}))}function P(e,t){const r=(0,F.Xl)(e),n=t;if(!a.value[n])return void(a.value[n]=r);const l=a.value[n];l&&!Array.isArray(l)&&(a.value[n]=[l]),a.value[n]=[...a.value[n],r]}function R(e,t){const r=t,n=a.value[r];if(n)if(j(n)||e.id!==n.id){if(j(n)){const t=n.findIndex((t=>t.id===e.id));if(-1===t)return;if(n.splice(t,1),1===n.length)return void(a.value[r]=n[0]);n.length||delete a.value[r]}}else delete a.value[r]}function $(e){const t=(0,F.SU)(e.name);P(e,t),(0,F.dq)(e.name)&&(0,n.YP)(e.name,(async(t,r)=>{await(0,n.Y3)(),R(e,r),P(e,t),(v.value[r]||v.value[t])&&(E(r,void 0),D(t)),await(0,n.Y3)(),m(r)||Q(u,r)}));const r=(0,F.SU)(e.errorMessage);r&&(null===y||void 0===y?void 0:y[t])!==r&&D(t),delete y[t]}function q(e){const t=(0,F.SU)(e.name);R(e,t),(0,n.Y3)((()=>{m(t)||(E(t,void 0),Q(u,t))}))}async function N(e){if(U((e=>e.meta.validated=!0)),A.validateSchema)return A.validateSchema((null===e||void 0===e?void 0:e.mode)||"force");const t=await Promise.all(Object.values(a.value).map((t=>{const r=Array.isArray(t)?t[0]:t;return r?r.validate(e).then((e=>({key:(0,F.SU)(r.name),valid:e.valid,errors:e.errors}))):Promise.resolve({key:"",valid:!0,errors:[]})}))),r={},n={};for(const a of t)r[a.key]={valid:a.valid,errors:a.errors},a.errors.length&&(n[a.key]=a.errors[0]);return{valid:t.every((e=>e.valid)),results:r,errors:n}}async function D(e){const t=a.value[e];return t?Array.isArray(t)?t.map((e=>e.validate()))[0]:t.validate():((0,n.ZK)(`field with name ${e} was not found`),Promise.resolve({errors:[],valid:!0}))}function Y(e,t){return function(r){return r instanceof Event&&(r.preventDefault(),r.stopPropagation()),I(ee(a.value).reduce(((e,t)=>(e[t]=!0,e)),{})),l.value=!0,i.value++,N().then((n=>{if(n.valid&&"function"===typeof e)return e(Ee(u),{evt:r,setErrors:k,setFieldError:E,setTouched:I,setFieldTouched:M,setValues:_,setFieldValue:x,resetForm:T});n.valid||"function"!==typeof t||t({values:Ee(u),evt:r,errors:n.errors,results:n.results})})).then((e=>(l.value=!1,e)),(e=>{throw l.value=!1,e}))}}function H(e,t){K(b.value,e,Ee(t))}function L(e){Q(b.value,e)}function W(e,t){K(u,e,t),H(e,t)}async function J(){const e=(0,F.SU)(O);if(!e)return{valid:!0,results:{},errors:{}};const t=C(e)?await je(e,u):await we(e,u,{names:p.value,bailsMap:h.value});return t}const z=le(J,5);async function X(e){const t=await z(),r=A.fieldsByPath.value||{},n=ee(A.errorBag.value),a=[...new Set([...ee(t.results),...ee(r),...n])];return a.reduce(((n,a)=>{const l=r[a],i=(t.results[a]||{errors:[]}).errors,o={errors:i,valid:!i.length};if(n.results[a]=o,o.valid||(n.errors[a]=o.errors[0]),!l)return E(a,i),n;if(w(l,(e=>e.meta.valid=o.valid)),"silent"===e)return n;const u=Array.isArray(l)?l.some((e=>e.meta.validated)):l.meta.validated;return"validated-only"!==e||u?(w(l,(e=>e.setState({errors:o.errors}))),n):n}),{valid:t.valid,results:{},errors:{}})}const te=Y(((e,{evt:t})=>{Z(t)&&t.target.submit()}));return(0,n.bv)((()=>{(null===e||void 0===e?void 0:e.initialErrors)&&k(e.initialErrors),(null===e||void 0===e?void 0:e.initialTouched)&&I(e.initialTouched),(null===e||void 0===e?void 0:e.validateOnMount)?N():A.validateSchema&&A.validateSchema("silent")})),(0,F.dq)(O)&&(0,n.YP)(O,(()=>{var e;null===(e=A.validateSchema)||void 0===e||e.call(A,"validated-only")})),(0,n.JJ)(B,A),{errors:v,meta:V,values:u,isSubmitting:l,submitCount:i,validate:N,validateField:D,handleReset:()=>T(),resetForm:T,handleSubmit:Y,submitForm:te,setFieldError:E,setErrors:k,setFieldValue:x,setValues:_,setFieldTouched:M,setTouched:I}}function Ge(e,t,r,a){const l={touched:"some",pending:"some",valid:"every"},i=(0,n.Fl)((()=>!ke(t,(0,F.SU)(r))));function o(){const t=Object.values(e.value).flat(1).filter(Boolean);return ee(l).reduce(((e,r)=>{const n=l[r];return e[r]=t[n]((e=>e.meta[r])),e}),{})}const u=(0,F.qj)(o());return(0,n.m0)((()=>{const e=o();u.touched=e.touched,u.valid=e.valid,u.pending=e.pending})),(0,n.Fl)((()=>Object.assign(Object.assign({initialValues:(0,F.SU)(r)},u),{valid:u.valid&&!ee(a.value).length,dirty:i.value})))}function Ke(e,t,r){const a=(0,F.iH)(Ee((0,F.SU)(r))||{}),l=(0,F.iH)(Ee((0,F.SU)(r))||{});function i(r,n=!1){a.value=Ee(r),l.value=Ee(r),n&&ee(e.value).forEach((r=>{const n=e.value[r],l=Array.isArray(n)?n.some((e=>e.meta.touched)):null===n||void 0===n?void 0:n.meta.touched;if(!n||l)return;const i=G(a.value,r);K(t,r,Ee(i))}))}return(0,F.dq)(r)&&(0,n.YP)(r,(e=>{i(e,!0)}),{deep:!0}),{initialValues:a,originalInitialValues:l,setInitialValues:i}}function Xe(e){const t=(0,F.iH)({});function r(e){return Array.isArray(e)?e:e?[e]:[]}function n(e,n){n?t.value[e]=r(n):delete t.value[e]}function a(e){t.value=ee(e).reduce(((t,n)=>{const a=e[n];return a&&(t[n]=r(a)),t}),{})}return e&&a(e),{errorBag:t,setErrorBag:a,setFieldErrorBag:n}}const Qe=(0,n.aZ)({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0}},setup(e,t){const r=(0,F.Vh)(e,"initialValues"),a=(0,F.Vh)(e,"validationSchema"),{errors:l,values:i,meta:o,isSubmitting:u,submitCount:s,validate:d,validateField:c,handleReset:v,resetForm:f,handleSubmit:m,submitForm:p,setErrors:h,setFieldError:y,setFieldValue:b,setValues:g,setFieldTouched:S,setTouched:V}=ze({validationSchema:a.value?a:void 0,initialValues:r,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount}),O=e.onSubmit?m(e.onSubmit,e.onInvalidSubmit):p;function A(e){W(e)&&e.preventDefault(),v(),"function"===typeof t.attrs.onReset&&t.attrs.onReset()}function j(t,r){const n="function"!==typeof t||r?r:t;return m(n,e.onInvalidSubmit)(t)}function w(){return{meta:o.value,errors:l.value,values:i,isSubmitting:u.value,submitCount:s.value,validate:d,validateField:c,handleSubmit:j,handleReset:v,submitForm:p,setErrors:h,setFieldError:y,setFieldValue:b,setValues:g,setFieldTouched:S,setTouched:V,resetForm:f}}return t.expose({setFieldError:y,setErrors:h,setFieldValue:b,setValues:g,setFieldTouched:S,setTouched:V,resetForm:f,validate:d,validateField:c}),function(){const r="form"===e.as?e.as:(0,n.LL)(e.as),a=ie(r,t,w);if(!e.as)return a;const l="form"===e.as?{novalidate:!0}:{};return(0,n.h)(r,Object.assign(Object.assign(Object.assign({},l),t.attrs),{onSubmit:O,onReset:A}),a)}}}),et=Qe;let tt=0;function rt(e){const t=tt++,r=te(B,void 0),a=(0,F.iH)([]),l=()=>{},i={fields:(0,F.OT)(a),remove:l,push:l,swap:l,insert:l,update:l,replace:l,prepend:l};if(!r)return re("FieldArray requires being a child of `<Form/>` or `useForm` being called before it. Array fields may not work correctly"),i;if(!(0,F.SU)(e))return re("FieldArray requires a field path to be provided, did you forget to pass the `name` prop?"),i;let o=0;function u(){const t=G(null===r||void 0===r?void 0:r.values,(0,F.SU)(e),[]);a.value=t.map(d),s()}function s(){const e=a.value.length;for(let t=0;t<e;t++){const r=a.value[t];r.isFirst=0===t,r.isLast=t===e-1}}function d(t){const l=o++,i={key:l,value:(0,n.Fl)((()=>{const n=G(null===r||void 0===r?void 0:r.values,(0,F.SU)(e),[]),i=a.value.findIndex((e=>e.key===l));return-1===i?t:n[i]})),isFirst:!1,isLast:!1};return i}function c(t){const n=(0,F.SU)(e),l=G(null===r||void 0===r?void 0:r.values,n);if(!l||!Array.isArray(l))return;const i=[...l];i.splice(t,1),null===r||void 0===r||r.unsetInitialValue(n+`[${t}]`),null===r||void 0===r||r.setFieldValue(n,i),a.value.splice(t,1),s()}function v(t){const n=(0,F.SU)(e),l=G(null===r||void 0===r?void 0:r.values,n),i=j(l)?[]:l;if(!Array.isArray(i))return;const o=[...i];o.push(t),null===r||void 0===r||r.stageInitialValue(n+`[${o.length-1}]`,t),null===r||void 0===r||r.setFieldValue(n,o),a.value.push(d(t)),s()}function f(t,n){const l=(0,F.SU)(e),i=G(null===r||void 0===r?void 0:r.values,l);if(!Array.isArray(i)||!(t in i)||!(n in i))return;const o=[...i],u=[...a.value],d=o[t];o[t]=o[n],o[n]=d;const c=u[t];u[t]=u[n],u[n]=c,null===r||void 0===r||r.setFieldValue(l,o),a.value=u,s()}function m(t,n){const l=(0,F.SU)(e),i=G(null===r||void 0===r?void 0:r.values,l);if(!Array.isArray(i)||i.length<t)return;const o=[...i],u=[...a.value];o.splice(t,0,n),u.splice(t,0,d(n)),null===r||void 0===r||r.setFieldValue(l,o),a.value=u,s()}function p(t){const n=(0,F.SU)(e);null===r||void 0===r||r.setFieldValue(n,t),u()}function h(t,n){const a=(0,F.SU)(e),l=G(null===r||void 0===r?void 0:r.values,a);!Array.isArray(l)||l.length-1<t||null===r||void 0===r||r.setFieldValue(`${a}[${t}]`,n)}function y(t){const n=(0,F.SU)(e),l=G(null===r||void 0===r?void 0:r.values,n),i=j(l)?[]:l;if(!Array.isArray(i))return;const o=[t,...i];null===r||void 0===r||r.stageInitialValue(n+`[${o.length-1}]`,t),null===r||void 0===r||r.setFieldValue(n,o),a.value.unshift(d(t)),s()}return u(),r.fieldArraysLookup[t]={reset:u},(0,n.Jd)((()=>{delete r.fieldArraysLookup[t]})),{fields:(0,F.OT)(a),remove:c,push:v,swap:f,insert:m,update:h,replace:p,prepend:y}}(0,n.aZ)({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:r,remove:n,swap:a,insert:l,replace:i,update:o,prepend:u,fields:s}=rt((0,F.Vh)(e,"name"));function d(){return{fields:s.value,push:r,remove:n,swap:a,insert:l,update:o,replace:i,prepend:u}}return t.expose({push:r,remove:n,swap:a,insert:l,update:o,replace:i,prepend:u}),()=>{const e=ie(void 0,t,d);return e}}});const nt=(0,n.aZ)({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const r=(0,n.f3)(B,void 0),a=(0,n.Fl)((()=>null===r||void 0===r?void 0:r.errors.value[e.name]));function l(){return{message:a.value}}return()=>{if(!a.value)return;const r=e.as?(0,n.LL)(e.as):e.as,i=ie(r,t,l),o=Object.assign({role:"alert"},t.attrs);return r||!Array.isArray(i)&&i||!(null===i||void 0===i?void 0:i.length)?!Array.isArray(i)&&i||(null===i||void 0===i?void 0:i.length)?(0,n.h)(r,o,i):(0,n.h)(r||"span",o,a.value):i}}}),at=nt;var lt=r(9868),it={components:{Field:We,Form:et,ErrorMessage:at},data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{isRequired(e){return!!e||"此欄位為必填"},validateEmail(e){if(!e)return"此欄位為必填";const t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return!!t.test(e)||"必須是 email 格式"},validatePhone(e){if(!e)return"此欄位為必填";const t=/^((\d{2,3}-?|\(\d{2,3}\))\d{3,4}-?\d{4})|(09\d{2}(\d{6}|-\d{3}-\d{3}))$/;return!(!t.test(e)||e.toString().length>10)||"無效的電話號碼或手機號碼"},addOrder(){this.$http.post("https://vue3-course-api.hexschool.io/v2/api/danny123/order",{data:this.form}).then((e=>{const t=e.data.orderId;lt.Z.emit("get-cart"),this.$router.push(`/result/${t}`)})).catch((e=>{console.log(e)}))},onSubmit(){this.addOrder()}}},ot=r(89);const ut=(0,ot.Z)(it,[["render",O],["__scopeId","data-v-252470d8"]]);var st=ut}}]);
//# sourceMappingURL=101.690283a8.js.map